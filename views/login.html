<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <style>
    body { font-family: Arial; background: #f0f2f5; display:flex; justify-content:center; align-items:center; height:100vh; }
    .login-box { background:white; padding:30px; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.2); width:300px; text-align:center; }
    .login-box input { width:90%; padding:10px; margin:10px 0; border-radius:4px; border:1px solid #ccc; }
    .login-box button { padding:10px 20px; border:none; border-radius:4px; background:#007bff; color:white; cursor:pointer; margin-top:10px; }
    .login-box button:hover { background:#0056b3; }
    #msg { color:red; margin-top:10px; }
  </style>
</head>
<body>

<div class="login-box">
  <h2>Iniciar Sesión</h2>
  <form id="loginForm">
    <input type="text" id="usuario" placeholder="Usuario" required><br>
    <input type="password" id="password" placeholder="Contraseña" required><br>
    <button type="submit">Entrar</button>
  </form>
  <p id="msg"></p>
</div>
<script>
const form = document.getElementById('loginForm');

form.addEventListener('submit', async (e) => {
  e.preventDefault();

  const user = document.getElementById('usuario').value;
  const pass = document.getElementById('password').value;

  // Apache envía esto a localhost:3000/login
  const res = await fetch('/login', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ user, pass })
  });

  const data = await res.json();

  if (data.success) {
    window.location.href = 'index.html';
  } else {
    document.getElementById('msg').innerText = 'Error en login';
  }
});
</script>
</body>
</html>
